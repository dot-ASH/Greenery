(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5885],{11008:function(e,s,n){"use strict";n.r(s);var t=n(11246),a=n(27378),i=n(98784),l=n(58728),c=n(86223),r=n(3648),o=n(1296),u=n(88671),d=n(65961),m=n(43659),h=n(68043),f=n(45355),x=n(36802),p=n(81228),j=n(8190),v=n(38230),N=n(24246),b=function(e,s,n){if(n){var t=n.toLowerCase(),a=s.filter((function(e){return e.name.toLowerCase().includes(t)}));return e.slice().filter((function(e){return e.name.toLowerCase().includes(t)||e.id.toString()===t||a.some((function(s){return s.table===e.name}))})).sort((function(e,s){return e.name.localeCompare(s.name)}))}return e.slice().sort((function(e,s){return e.name.localeCompare(s.name)}))},_=function(){var e=(0,f.oR)().meta,s=(0,x.UO)().search,n=(0,a.useState)("public"),m=n[0],p=n[1],_=(0,a.useState)(""),w=_[0],Z=_[1];(0,a.useEffect)((function(){s&&Z(s)}),[s]);var g=e.schemas.list(),k=(0,i.partition)(g,(function(s){var n;return e.excludedSchemas.includes(null!==(n=null===s||void 0===s?void 0:s.name)&&void 0!==n?n:"")})),C=(0,t.Z)(k,2),E=C[0],O=C[1],S=g.find((function(e){return e.name===m})),L=E.some((function(e){return e.id===(null===S||void 0===S?void 0:S.id)})),y=e.policies.list(),z=e.tables.list((function(e){return e.schema===m})),P=b(z,y,w);return(0,f.Xo)(h.KA.TENANT_SQL_ADMIN_READ,"policies")?(0,N.jsxs)("div",{className:"flex flex-col h-full",children:[(0,N.jsx)("div",{className:"mb-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,N.jsx)("div",{className:"w-[230px]",children:(0,N.jsxs)(l.Z,{size:"small",value:m,onChange:function(e){p(e),Z("")},icon:L&&(0,N.jsx)(c.Z,{size:14,strokeWidth:2}),children:[(0,N.jsx)(l.Z.Option,{disabled:!0,value:"normal-schemas",label:"Schemas",children:(0,N.jsx)("p",{className:"text-sm",children:"Schemas"})},"normal-schemas"),O.map((function(e){return(0,N.jsx)(l.Z.Option,{value:e.name,label:e.name,addOnBefore:function(){return(0,N.jsx)("span",{className:"text-scale-900",children:"schema"})},children:(0,N.jsx)("span",{className:"text-scale-1200 text-sm",children:e.name})},e.id)})),(0,N.jsx)(l.Z.Option,{disabled:!0,value:"protected-schemas",label:"Protected schemas",children:(0,N.jsx)("p",{className:"text-sm",children:"Protected schemas"})},"protected-schemas"),E.map((function(e){return(0,N.jsx)(l.Z.Option,{value:e.name,label:e.name,addOnBefore:function(){return(0,N.jsx)("span",{className:"text-scale-900",children:"schema"})},children:(0,N.jsx)("span",{className:"text-scale-1200 text-sm",children:e.name})},e.id)}))]})}),(0,N.jsx)(r.Z,{size:"small",placeholder:"Filter tables and policies",className:"block w-64 text-sm placeholder-gray-400",value:w,onChange:function(e){return Z(e.target.value)},icon:(0,N.jsx)(o.Z,{size:"tiny"})})]}),(0,N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/learn/auth-deep-dive/auth-row-level-security",children:(0,N.jsx)(u.z,{type:"link",icon:(0,N.jsx)(d.Z,{size:14,strokeWidth:1.5}),children:"What is RLS?"})})]})}),(0,N.jsx)(j.rE,{tables:P,hasTables:z.length>0,isLocked:L})]}):(0,N.jsx)(v.Z,{isFullPage:!0,resourceText:"view this project's RLS policies"})};_.getLayout=function(e){return(0,N.jsx)(p.g1,{title:"Auth",children:(0,N.jsx)("div",{className:"h-full p-4",children:e})})},s.default=(0,m.Pi)(_)},22490:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/auth/policies",function(){return n(11008)}])}},function(e){e.O(0,[7930,5232,9950,6417,6400,9128,9774,2888,179],(function(){return s=22490,e(e.s=s);var s}));var s=e.O();_N_E=s}]);
//# sourceMappingURL=policies-5410e76c2120f4b1.js.map